function completeLoading(){"complete"===document.readyState&&$(function(){function e(e){var o=new XMLHttpRequest;n&&(n=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext),o.open("GET","hp.ogg",!0),o.responseType="arraybuffer",o.send(),o.onload=function(){n.decodeAudioData(o.response,function(o){a=n.createBufferSource(),a.buffer=o,a.loop=!0,a.connect(n.destination),a[a.start?"start":"noteOn"](0),e||t()},function(e){alert(e)})})}function t(){function t(e){l=new Date,s=l.getHours(),r=l.getMinutes(),d.clearRect(0,0,300,300);for(var t=0;t<360;t++)d.save(),d.strokeStyle="#b4531e",d.beginPath(),d.translate(150,150),d.rotate(t*Math.PI/180),d.moveTo(0,-140),d.lineTo(0,-120),d.stroke(),d.closePath(),d.restore();d.save(),d.strokeStyle="#ffdc35",d.lineWidth=4,d.beginPath(),d.translate(150,150),d.rotate(30*s*Math.PI/180),d.moveTo(0,0),d.lineTo(0,-50),d.stroke(),d.closePath(),d.restore(),d.save(),d.strokeStyle="#ffe153",d.lineWidth=2,d.beginPath(),d.translate(150,150),d.rotate(6*r*Math.PI/180),d.moveTo(0,0),d.lineTo(0,-70),d.stroke(),d.closePath(),d.restore(),d.save(),d.fillStyle="#f9f937",d.beginPath(),d.translate(150,150),d.rotate(e*Math.PI/180),d.moveTo(0,-105-h),d.lineTo(-7,-105),d.lineTo(7,-105),d.fill(),d.closePath(),d.restore(),d.save(),d.beginPath(),d.strokeStyle="#fff",d.arc(150,150,100,0,2*Math.PI),d.stroke(),d.closePath(),d.restore(),d.beginPath(),d.arc(150,150,8,0,2*Math.PI),d.fill(),d.stroke(),d.closePath(),d.save(),d.fillStyle="#b4531e",d.beginPath(),d.arc(150,150,7,0,2*Math.PI),d.fill(),d.stroke(),d.closePath(),d.restore();for(var t=0;t<100;t++)d.save(),d.lineWidth=.5,d.strokeStyle="rgba(255,255,255,"+(100-t)/100+")",d.beginPath(),d.translate(150,150),d.rotate((e-t)*Math.PI/180),d.moveTo(0,-140),d.lineTo(0,-120),d.closePath(),d.stroke(),d.restore()}if($("#loading").remove(),$(".canvas-wrap").append($canvas),$(".bg-img").append($bgImg),$(".links").append($home).append($blog).append($github),$(".name-wrap").append($name),i){var o=$('<video loop autoplay><source src="home.mp4" type="video/mp4"></video>');$(".video").append(o),$(".sound-switch").append($soundPlay).append($soundPause)}if(document.getElementById("canvas").getContext){var s,r,l,c=document.getElementById("canvas"),d=c.getContext("2d"),h=10*Math.sin(Math.PI/3),u=360*(new Date).getSeconds()/60;t(u),setInterval(function(){u=360===u?360*(new Date).getSeconds()/60:++u,t(u)},6e4/360);var g=!0,f=$(".sound-switch a i");document.getElementById("bgSound");f.on("click",function(){g?($(f[0]).css({zIndex:"-2",opacity:"0"}),$(f[1]).css({zIndex:"0",opacity:"1"}),n&&a[a.stop?"stop":"noteOff"](0),g=!1):($(f[0]).css({zIndex:"0",opacity:"1"}),$(f[1]).css({zIndex:"-2",opacity:"0"}),n&&e(!0),g=!0)})}}function o(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=1,a=0;a<t.length;a++)if(e.indexOf(t[a])>0){o=0;break}return o}var a,n=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=o();$canvas=$('<canvas id="canvas" width="300" height="300"></canvas>'),$bgImg=$('<img src="public/img/home.png" alt="主页图片">'),$soundPlay=$('<a href="javascript:;" title="音乐暂停"><i class="iconfont music-disable">&#xe638;</i></a>'),$soundPause=$('<a href="javascript:;" title="音乐播放"><i class="iconfont music">&#xe612;</i></a>'),$name=$("<h1>Jay Zangwill</h1>"),$home=$('<li><a href="home.html" title="进入主页">my home</a></li>'),$blog=$('<li><a href="https://JayZangwill.github.io/blog" title="我的博客">my blog</a></li>'),$github=$('<li><a href="https://github.com/JayZangwill" title="github">my github</a></li>'),i?e():t()})}document.onreadystatechange=completeLoading;
function completeLoading(){"complete"===document.readyState&&$(function(){function e(e){var o=new XMLHttpRequest;h&&(h=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext),o.open("GET","hp.ogg",!0),o.responseType="arraybuffer",o.send(),o.onload=function(){h.decodeAudioData(o.response,function(o){a=h.createBufferSource(),a.buffer=o,a.loop=!0,a.connect(h.destination),a[a.start?"start":"noteOn"](0),e||t()},function(e){alert(e)})})}function t(){function t(e){s=new Date,n=s.getHours(),i=s.getMinutes(),r.clearRect(0,0,300,300);for(var t=0;t<360;t++)r.save(),r.strokeStyle="#b4531e",r.beginPath(),r.translate(150,150),r.rotate(t*Math.PI/180),r.moveTo(0,-140),r.lineTo(0,-120),r.stroke(),r.closePath(),r.restore();r.save(),r.strokeStyle="#ffdc35",r.lineWidth=4,r.beginPath(),r.translate(150,150),r.rotate(30*n*Math.PI/180),r.moveTo(0,0),r.lineTo(0,-50),r.stroke(),r.closePath(),r.restore(),r.save(),r.strokeStyle="#ffe153",r.lineWidth=2,r.beginPath(),r.translate(150,150),r.rotate(6*i*Math.PI/180),r.moveTo(0,0),r.lineTo(0,-70),r.stroke(),r.closePath(),r.restore(),r.save(),r.fillStyle="#f9f937",r.beginPath(),r.translate(150,150),r.rotate(e*Math.PI/180),r.moveTo(0,-105-d),r.lineTo(-7,-105),r.lineTo(7,-105),r.fill(),r.closePath(),r.restore(),r.save(),r.beginPath(),r.strokeStyle="#fff",r.arc(150,150,100,0,2*Math.PI),r.stroke(),r.closePath(),r.restore(),r.beginPath(),r.arc(150,150,8,0,2*Math.PI),r.fill(),r.stroke(),r.closePath(),r.save(),r.fillStyle="#b4531e",r.beginPath(),r.arc(150,150,7,0,2*Math.PI),r.fill(),r.stroke(),r.closePath(),r.restore();for(var t=0;t<100;t++)r.save(),r.lineWidth=.5,r.strokeStyle="rgba(255,255,255,"+(100-t)/100+")",r.beginPath(),r.translate(150,150),r.rotate((e-t)*Math.PI/180),r.moveTo(0,-140),r.lineTo(0,-120),r.closePath(),r.stroke(),r.restore()}if($("#loading").remove(),$(document).unbind("mousemove"),$(".canvas-wrap").append(g),$(".bg-img").append(p),$(".links").append(y).append(w).append(P),$(".name-wrap").append(v),f){var o=$('<video loop autoplay><source src="home.mp4" type="video/mp4"></video>');$(".video").append(o),$(".sound-switch").append(u).append(m)}if(document.getElementById("canvas").getContext){var n,i,s,l=document.getElementById("canvas"),r=l.getContext("2d"),d=10*Math.sin(Math.PI/3),c=360*(new Date).getSeconds()/60;t(c),setInterval(function(){c=360===c?360*(new Date).getSeconds()/60:++c,t(c)},6e4/360);var b=!0,I=$(".sound-switch a i");document.getElementById("bgSound");I.on("click",function(){b?($(I[0]).css({zIndex:"-2",opacity:"0"}),$(I[1]).css({zIndex:"0",opacity:"1"}),h&&a[a.stop?"stop":"noteOff"](0),b=!1):($(I[0]).css({zIndex:"0",opacity:"1"}),$(I[1]).css({zIndex:"-2",opacity:"0"}),h&&e(!0),b=!0)})}}function o(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=1,a=0;a<t.length;a++)if(e.indexOf(t[a])>0){o=0;break}return o}var a,n,i,s,l=$(".loading .eyes").offset().left+$(".loading .eyes").width()/2,r=$(".loading .eyes").offset().top+$(".loading .eyes").height()/2,d=$(".loading p"),c=0,h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,f=o(),g=$('<canvas id="canvas" width="300" height="300"></canvas>'),p=$('<img src="bulid/img/home.png" alt="主页图片">'),u=$('<a href="javascript:;" title="音乐暂停"><i class="iconfont music-disable">&#xe638;</i></a>'),m=$('<a href="javascript:;" title="音乐播放"><i class="iconfont music">&#xe612;</i></a>'),v=$("<h1>Jay Zangwill</h1>"),y=$('<li><a href="home.html" title="进入主页">my home</a></li>'),w=$('<li><a href="https://JayZangwill.github.io/blog" title="我的博客">my blog</a></li>'),P=$('<li><a href="https://github.com/JayZangwill" title="github">my github</a></li>');$(document).on("mousemove",function(e){n=e.pageX,i=e.pageY,$(".loading .eyes,.loading .hilites").css({top:r-40+.044*(i-r)+"px",left:l-45+.011*(n-l)+"px"})}),setInterval(function(){c<=5?(s=d.html(),d.html(s+"."),c++):(d.html("加载中，请稍后"),c=0)},500),f?e():t()})}document.onreadystatechange=completeLoading;
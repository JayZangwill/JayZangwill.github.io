function completeLoad(e,t,a){function o(e){f=new Date,g=f.getHours(),m=f.getMinutes(),v.clearRect(0,0,300,300);for(var t=0;t<360;t++)v.save(),v.strokeStyle="#b4531e",v.beginPath(),v.translate(150,150),v.rotate(t*Math.PI/180),v.moveTo(0,-140),v.lineTo(0,-120),v.stroke(),v.closePath(),v.restore();v.save(),v.strokeStyle="#ffdc35",v.lineWidth=4,v.beginPath(),v.translate(150,150),v.rotate(30*g*Math.PI/180),v.moveTo(0,0),v.lineTo(0,-50),v.stroke(),v.closePath(),v.restore(),v.save(),v.strokeStyle="#ffe153",v.lineWidth=2,v.beginPath(),v.translate(150,150),v.rotate(6*m*Math.PI/180),v.moveTo(0,0),v.lineTo(0,-70),v.stroke(),v.closePath(),v.restore(),v.save(),v.fillStyle="#f9f937",v.beginPath(),v.translate(150,150),v.rotate(e*Math.PI/180),v.moveTo(0,-105-y),v.lineTo(-7,-105),v.lineTo(7,-105),v.fill(),v.closePath(),v.restore(),v.save(),v.beginPath(),v.strokeStyle="#fff",v.arc(150,150,100,0,2*Math.PI),v.stroke(),v.closePath(),v.restore(),v.beginPath(),v.arc(150,150,8,0,2*Math.PI),v.fill(),v.stroke(),v.closePath(),v.save(),v.fillStyle="#b4531e",v.beginPath(),v.arc(150,150,7,0,2*Math.PI),v.fill(),v.stroke(),v.closePath(),v.restore();for(var t=0;t<100;t++)v.save(),v.lineWidth=.5,v.strokeStyle="rgba(255,255,255,"+(100-t)/100+")",v.beginPath(),v.translate(150,150),v.rotate((e-t)*Math.PI/180),v.moveTo(0,-140),v.lineTo(0,-120),v.closePath(),v.stroke(),v.restore()}var n=$('<canvas id="canvas" width="300" height="300"></canvas>'),i=$('<img src="bulid/img/home.png" alt="主页图片">'),l=$('<a href="javascript:;" title="音乐暂停"><i class="iconfont music-disable">&#xe638;</i></a>'),s=$('<a href="javascript:;" title="音乐播放"><i class="iconfont music">&#xe612;</i></a>'),r=$("<h1>Jay Zangwill</h1>"),c=$('<a href="bank-card/index.html">bank-card(temp)</a>'),h=$('<li><a href="home.html" title="进入主页">my home</a></li>'),d=$('<li><a href="https://JayZangwill.github.io/blog" title="我的博客">my blog</a></li>'),p=$('<li><a href="https://github.com/JayZangwill" title="github">my github</a></li>');if($("#loading").remove(),clearInterval(e),$(document).unbind("mousemove"),$(".canvas-wrap").append(n),$(".bg-img").append(i),$(".links").append(c).append(h).append(d).append(p),$(".name-wrap").append(r),(t||a)&&($viedo=$('<video loop autoplay><source src="home.mp4" type="video/mp4"></video>'),$(".video").append($viedo)),t&&($(".sound-switch").append(l).append(s),t.play()),document.getElementById("canvas").getContext){var g,m,f,u=document.getElementById("canvas"),v=u.getContext("2d"),y=10*Math.sin(Math.PI/3),P=360*(new Date).getSeconds()/60;o(P),setInterval(function(){P=360===P?360*(new Date).getSeconds()/60:++P,o(P)},6e4/360)}var b=!0,I=$(".sound-switch a i");document.getElementById("bgSound");I.on("click",function(){b?($(I[0]).css({zIndex:"-2",opacity:"0"}),$(I[1]).css({zIndex:"0",opacity:"1"}),t.pause(),b=!1):($(I[0]).css({zIndex:"0",opacity:"1"}),$(I[1]).css({zIndex:"-2",opacity:"0"}),t.play(),b=!0)})}$(function(){function e(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=1,o=0;o<t.length;o++)if(e.indexOf(t[o])>0){a=0;break}return a}var t,a,o,n,i,l=e(),s=$(".loading .eyes").offset().left+$(".loading .eyes").width()/2,r=$(".loading .eyes").offset().top+$(".loading .eyes").height()/2,c=$(".loading p"),h=0,d=!0,p=0,g=new Image,m=navigator.appVersion.search(/MSIE 9/i)!==-1;l&&!m&&(i=new Audio,i.src="hp.ogg",$(i).attr({loop:"true",autoplay:"true"}),i.oncanplaythrough=function(){p++,d&&(i.pause(),d=!1),2===p&&completeLoad(n,i,m)}),g.src="bulid/img/home.png",g.onload=function(){p++,(2===p||!l&&1===p||m&&1===p)&&completeLoad(n,i,m)},$(document).on("mousemove",function(e){t=e.pageX,a=e.pageY,$(".loading .eyes,.loading .hilites").css({top:r-40+.044*(a-r)+"px",left:s-45+.011*(t-s)+"px"})}),n=setInterval(function(){h<=5?(o=c.html(),c.html(o+"."),h++):(c.html("加载中，请稍后"),h=0)},500)});